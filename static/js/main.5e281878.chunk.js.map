{"version":3,"sources":["Images/crosshairs-gps.svg","Tools/magnitudeColors.js","Context/QuakeContext.js","Tools/DegreesToRadians.js","Components/QuakeItem.js","Components/QuakeList.js","Context/SearchContext.js","Tools/EarthQuakeUrl.js","Components/SearchBar.js","Components/UserLocation.js","Reducers/AppReducer.js","Components/ToastStack.js","Components/OfflinePopup.js","Components/MyApp.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","magnitudeColors","minValue","maxValue","color","matchColorToMag","mag","filter","item","hexToRgb","hex","result","exec","concat","parseInt","React","createContext","dispatch","viewport","currLocation","quakes","degreesToRadians","degrees","Math","PI","distanceInKmBetweenEarthCoordinates","lat1","lon1","lat2","lon2","dLat","dLon","a","sin","cos","atan2","sqrt","QuakeItem","props","quake","properties","geometry","_useContext","useContext","QuakeContext","e","Date","time","react_default","createElement","id","className","style","backgroundColor","margin","marginBottom","place","toLocaleString","coordinates","latitude","longitude","toFixed","alt","src","locationIcon","width","height","dist_default","onClick","type","payload","feature","Object","objectSpread","zoom","children","QuakeList","downloadingData","map","Components_QuakeItem","key","setFetchedData","EarthQuakeUrl","parameters","arguments","length","undefined","classCallCheck","this","starttime","getOwnPropertyNames","values","prop","i","flat","join","SearchBar","_useState","useState","_useState2","slicedToArray","suggestions","setSuggestions","SearchContext","toasts","suggestionsRef","createRef","getEarlierDate","numOfDays","today","setDate","getDate","getFullYear","getMonth","lib","xsOffset","sm","smOffset","mdOffset","md","xs","onFocus","current","opacity","onBlur","onInput","target","value","fetch","process","then","response","json","data","features","onUserInput","placeholder","ref","sug","selectedPlace","parentElement","previousSibling","matching_place_name","place_name","center","url","minlatitude","bbox","minlongitude","maxlatitude","maxlongitude","limit","orderby","getUrl","toConsumableArray","timestame","catch","error","console","selectPlace","UserLocation","isEnable","setEnable","getLocation","navigator","geolocation","getCurrentPosition","position","document","getElementById","display","coords","getElementsByClassName","setAttribute","viewBox","fill","d","initState","fetchedData","selectedQuake","selectedRegion","AppReducer","state","action","log","ToastStack","toast","timestamp","onAnimationEndCapture","OfflinePopup","window","location","reload","MyApp","_useReducer","useReducer","_useReducer2","_useState3","_useState4","appIsOffline","setAppIsOffline","setInterval","onLine","useEffect","URLSearchParams","search","fluid","react_map_gl_esm","accessToken","mapStyle","onViewportChange","react_map_gl_cluster_esm","raduis","extent","nodeSize","component","_ref","pointCount","preventDefault","onClose","title","showCompass","showZoom","Components_OfflinePopup","Provider","Components_SearchBar","Components_ToastStack","Components_UserLocation","Components_QuakeList","App","react_router_dom","react_router","path","Boolean","hostname","match","ReactDOM","render","src_App","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5e281878.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/crosshairs-gps.27b7eeac.svg\";","// <!-- Color for an earthquake with magnitude 0 and 2 -->\n//  <color name=\"magnitude1\">#4A7BA7</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude between 2 and 3 -->\n//  <color name=\"magnitude2\">#04B4B3</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude between 3 and 4 -->\n//  <color name=\"magnitude3\">#10CAC9</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude between 4 and 5 -->\n//  <color name=\"magnitude4\">#F5A623</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude between 5 and 6 -->\n//  <color name=\"magnitude5\">#FF7D50</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude between 6 and 7 -->\n//  <color name=\"magnitude6\">#FC6644</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude between 7 and 8 -->\n//  <color name=\"magnitude7\">#E75F40</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude between 8 and 9 -->\n//  <color name=\"magnitude8\">#E13A20</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude between 9 and 10 -->\n//  <color name=\"magnitude9\">#D93218</color>\n\n//  <!-- Magnitude circle color for an earthquake with magnitude over 10 -->\n//  <color name=\"magnitude10plus\">#C03823</color>\n\n// var magnitudeColors = {\n// \tmagnitude1: {\n// \t\tminValue: 0,\n// \t\tmaxValue: 2,\n// \t\tcolor: '#4A7BA7'\n// \t},\n// \tmagnitude2: {\n// \t\tminValue: 2,\n// \t\tmaxValue: 3,\n// \t\tcolor: '#04B4B3'\n// \t},\n// \tmagnitude3: {\n// \t\tminValue: 3,\n// \t\tmaxValue: 4,\n// \t\tcolor: '#10CAC9'\n// \t},\n// \tmagnitude4: {\n// \t\tminValue: 4,\n// \t\tmaxValue: 5,\n// \t\tcolor: '#F5A623'\n// \t},\n// \tmagnitude5: {\n// \t\tminValue: 5,\n// \t\tmaxValue: 6,\n// \t\tcolor: '#FF7D50'\n// \t},\n// \tmagnitude6: {\n// \t\tminValue: 6,\n// \t\tmaxValue: 7,\n// \t\tcolor: '#FC6644'\n// \t},\n// \tmagnitude7: {\n// \t\tminValue: 7,\n// \t\tmaxValue: 8,\n// \t\tcolor: '#E75F40'\n//   },\n//   magnitude8: {\n// \t\tminValue: 8,\n// \t\tmaxValue: 9,\n// \t\tcolor: '#E13A20'\n//   },\n//   magnitude9: {\n// \t\tminValue: 9,\n// \t\tmaxValue: 10,\n// \t\tcolor: '#D93218'\n//   },\n//   magnitude10: {\n// \t\tminValue: 10,\n// \t\tmaxValue: 20,\n// \t\tcolor: '#C03823'\n// \t},\n// };\n\nconst magnitudeColors = [\n\t{\n\t\tminValue: 0,\n\t\tmaxValue: 2,\n\t\tcolor: '#4A7BA7'\n\t},\n\t{\n\t\tminValue: 2,\n\t\tmaxValue: 3,\n\t\tcolor: '#04B4B3'\n\t},\n\t{\n\t\tminValue: 3,\n\t\tmaxValue: 4,\n\t\tcolor: '#10CAC9'\n\t},\n\t{\n\t\tminValue: 4,\n\t\tmaxValue: 5,\n\t\tcolor: '#F5A623'\n\t},\n\t{\n\t\tminValue: 5,\n\t\tmaxValue: 6,\n\t\tcolor: '#FF7D50'\n\t},\n\t{\n\t\tminValue: 6,\n\t\tmaxValue: 7,\n\t\tcolor: '#FC6644'\n\t},\n\t{\n\t\tminValue: 7,\n\t\tmaxValue: 8,\n\t\tcolor: '#E75F40'\n\t},\n\t{\n\t\tminValue: 8,\n\t\tmaxValue: 9,\n\t\tcolor: '#E13A20'\n\t},\n\t{\n\t\tminValue: 9,\n\t\tmaxValue: 10,\n\t\tcolor: '#D93218'\n\t},\n\t{\n\t\tminValue: 10,\n\t\tmaxValue: 20,\n\t\tcolor: '#C03823'\n\t}\n];\n\nexport const matchColorToMag = (mag) => {\n\treturn magnitudeColors.filter((item) => {\n\t\treturn item.minValue <= mag && item.maxValue > mag;\n\t});\n};\n\nexport const hexToRgb = (hex) => {\n\tlet result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\treturn result ? `rgba(${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)},0.4)` : null;\n};\n\nexport default magnitudeColors;","import React from 'react';\n\nexport default React.createContext({\n\tdispatch: ()=>{},\n\tviewport: {},\n\tcurrLocation: {},\n\tquakes:[]\n});\n","function degreesToRadians(degrees) {\n  return degrees * Math.PI / 180;\n}\n\nfunction distanceInKmBetweenEarthCoordinates(lat1, lon1, lat2, lon2) {\n  var earthRadiusKm = 6371;\n\n  var dLat = degreesToRadians(lat2-lat1);\n  var dLon = degreesToRadians(lon2-lon1);\n\n  lat1 = degreesToRadians(lat1);\n  lat2 = degreesToRadians(lat2);\n\n  var a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n          Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lat1) * Math.cos(lat2); \n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n  return earthRadiusKm * c;\n}\n\nexport default distanceInKmBetweenEarthCoordinates;","import React, { useContext } from 'react';\nimport QuakeContext from '../Context/QuakeContext';\nimport { matchColorToMag, hexToRgb } from '../Tools/magnitudeColors';\nimport distanceInKmBetweenEarthCoordinates from '../Tools/DegreesToRadians';\nimport locationIcon from '../Images/crosshairs-gps.svg';\nimport Button from '@material/react-button';\nfunction QuakeItem(props) {\n\tconst { quake } = props;\n\tconst {properties,geometry} = quake;\n\tconst { dispatch, currLocation, viewport } = useContext(QuakeContext);\n\tlet e = new Date(quake.properties.time);\n\tconst updateViewPort = (element, feature) => {\n\t\tdispatch({ type: 'UPDATED_SELECTED_QUAKE', payload: feature });\n\n\t\tdispatch({\n\t\t\ttype: 'UPDATED_VIEWPORT',\n\t\t\tpayload: {\n\t\t\t\t...viewport,\n\t\t\t\tlongitude: feature.geometry.coordinates[0],\n\t\t\t\tlatitude: feature.geometry.coordinates[1],\n\t\t\t\tzoom: 10\n\t\t\t}\n\t\t});\n\t};\n\t\n\treturn (\n\t\t(properties.mag>=0.0) &&(\n\t\t<li id={quake.id}>\n\t\t\t<div className=\"myGrid\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"magnitude-container\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: matchColorToMag(properties.mag)[0]\n\t\t\t\t\t\t\t? hexToRgb(matchColorToMag(properties.mag)[0].color)\n\t\t\t\t\t\t\t: '#333'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"magnitude-circle\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: matchColorToMag(properties.mag)[0]\n\t\t\t\t\t\t\t\t? matchColorToMag(properties.mag)[0].color\n\t\t\t\t\t\t\t\t: '#333'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"magnitude\">{properties.mag}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style={{ margin: '1em', marginBottom: '0.5em' }}>\n\t\t\t\t\t<div className=\"title\">{properties.place}</div>\n\n\t\t\t\t\t<div className=\"time\">{e.toLocaleString('el-GR')} </div>\n\t\t\t\t\t<div className=\"distance\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{props.currLocation != null ? (\n\t\t\t\t\t\t\t\t`${distanceInKmBetweenEarthCoordinates(\n\t\t\t\t\t\t\t\t\tgeometry.coordinates[1],\n\t\t\t\t\t\t\t\t\tgeometry.coordinates[0],\n\t\t\t\t\t\t\t\t\tcurrLocation.latitude,\n\t\t\t\t\t\t\t\t\tcurrLocation.longitude\n\t\t\t\t\t\t\t\t).toFixed(0)} km from your location`\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t'- km from your locaiton'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<img alt=\"location-icon\" className=\"locationIcon\" src={locationIcon} width=\"18px\" height=\"18px\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tstyle={{ color: matchColorToMag(properties.mag)[0].color }}\n\t\t\t\t\t\tonClick={(e) => updateViewPort(e, quake)}\n\t\t\t\t\t\tchildren=\"no children\"\n\t\t\t\t\t\tclassName=\"\"\n\t\t\t\t\t>\n\t\t\t\t\t\tPin Location\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>)\n\t);\n}\n\nexport default QuakeItem;\n","import React, {useContext}from 'react';\nimport QuakeItem from '../Components/QuakeItem';\nimport QuakeContext from '../Context/QuakeContext';\n\nfunction QuakeList(props) {\n\tconst {quakes,downloadingData} = useContext(QuakeContext);\n\treturn (\n\t\t<ul className=\"quakelist\">\n\t\t{(downloadingData)\n\t\t\t? \"loading\"\n\t\t\t: quakes.map((quake) => {\n\t\t\t\treturn (\n\t\t\t\t\t<QuakeItem key={quake.id} quake={quake}/>\n\t\t\t\t);\n\t\t\t})\n\t\t}\n\t\t</ul>\n\t);\n}\n\nexport default QuakeList;\n","import React from 'react';\n\nexport default React.createContext({\n\tdispatch: ()=>{},\n\tviewport: {},\n\tsetFetchedData:()=>{},\n\tdownloadingData: null,\n});\n","//es6 Class Syntax\n\nclass EarthQuakeUrl {\n  \n  constructor(parameters = {}){\n\n    this.parameters = {\n      starttime: \"2019-10-9\",\n      ...parameters,\n    }\n  }\n  getUrl() {\n    let prefix = `https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson`;\n    let properties = Object.getOwnPropertyNames(this.parameters);\n    const values = Object.values(this.parameters);\n    properties = properties.map( (prop,i) => {\n      return `${prop}=${values[i]}`\n    })\n    return [prefix,properties].flat().join('&');\n  }\n}\n\nexport default EarthQuakeUrl;","import React, { useState, useContext } from 'react';\nimport { Row, Col } from 'react-flexbox-grid';\nimport SearchContext from '../Context/SearchContext';\nimport EarthQuakeUrl from '../Tools/EarthQuakeUrl';\nfunction SearchBar(props) {\n\tconst [ suggestions, setSuggestions ] = useState([]);\n\tconst { dispatch, viewport, setFetchedData, toasts } = useContext(SearchContext);\n\n\tconst suggestionsRef = React.createRef();\n\n\tconst onUserInput = (e) => {\n\t\tgetEarlierDate(30);\n\t\tlet val = e.target.value;\n\t\tif (val !== '') {\n\t\t\tfetch(\n\t\t\t\t`https://api.mapbox.com/geocoding/v5/mapbox.places/${e.target\n\t\t\t\t\t.value}.json?&types=country,region&access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\n\t\t\t)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetSuggestions(data.features);\n\t\t\t\t});\n\t\t} else {\n\t\t\tsetSuggestions([]);\n\t\t}\n\t};\n\n\tconst getEarlierDate = (numOfDays) => {\n\t\tconst today = new Date();\n\t\ttoday.setDate(today.getDate() - numOfDays);\n\t\treturn `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`;\n\t};\n\tconst selectPlace = (e,selectedPlace) => {\n\t\tsetSuggestions([]);\n\t\te.target.parentElement.previousSibling.value = selectedPlace.matching_place_name || selectedPlace.place_name;\n\n\t\tdispatch({\n\t\t\ttype: 'TOGGLE_DATA_DOWNLOADING',\n\t\t\tpayload: true\n\t\t});\n\n\t\tdispatch({\n\t\t\ttype: 'UPDATED_VIEWPORT',\n\t\t\tpayload: {\n\t\t\t\t...viewport,\n\t\t\t\tlongitude: selectedPlace.center[0] + 4,\n\t\t\t\tlatitude: selectedPlace.center[1],\n\t\t\t\tzoom: 6\n\t\t\t}\n\t\t});\n\n\t\tconst url = new EarthQuakeUrl({\n\t\t\tstarttime: getEarlierDate(30),\n\t\t\tminlatitude: selectedPlace.bbox[1],\n\t\t\tminlongitude: selectedPlace.bbox[0],\n\t\t\tmaxlatitude: selectedPlace.bbox[3],\n\t\t\tmaxlongitude: selectedPlace.bbox[2],\n\t\t\tlimit: 50,\n\t\t\torderby: 'time'\n\t\t});\n\n\t\tfetch(url.getUrl())\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\n\t\t\t\tif (data.features.length === 0) {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: 'UPDATED_TOAST_STACK',\n\t\t\t\t\t\tpayload: [\n\t\t\t\t\t\t\t...toasts,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestame: new Date(),\n\t\t\t\t\t\t\t\ttype: \"toast\",\n\t\t\t\t\t\t\t\tvalue: 'No earthquakes found'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tsetFetchedData(data.features);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'TOGGLE_DATA_DOWNLOADING',\n\t\t\t\t\tpayload: false\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => console.error(error));\n\n\t\tdispatch({ type: 'UPDATED_SELECTED_REGION', payload: selectedPlace});\n\t};\n\n\tconst onBlur = (e) => {\n\t\tsuggestionsRef.current.style.opacity = '0';\n\t};\n\n\tconst onFocus = (e) => {\n\t\tsuggestionsRef.current.style.opacity = '1';\n\t};\n\treturn (\n\t\t<Row>\n\t\t\t<Col xsOffset={2} sm={10} smOffset={1} mdOffset={9} md={3} xs={8}>\n\t\t\t\t<div id=\"search-container\" className=\"search-bar-container\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"search-field\"\n\t\t\t\t\t\tonFocus={(e) => onFocus(e)}\n\t\t\t\t\t\tonBlur={(e) => onBlur(e)}\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tonInput={(e) => onUserInput(e)}\n\t\t\t\t\t\tplaceholder=\"Search something\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div id=\"search-bar-suggestion\" ref={suggestionsRef} className=\"search-bar-suggestions\">\n\t\t\t\t\t\t{suggestions.map((sug) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div onClick={(e) => selectPlace(e,sug)} key={sug.id} id={sug.id}>\n\t\t\t\t\t\t\t\t\t\t{sug.matching_place_name || sug.place_name}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Col>\n\t\t</Row>\n\t);\n}\n\nexport default SearchBar;\n","import React, { useState } from 'react';\nconst UserLocation = (props) => {\n\tconst { dispatch, viewport } = props;\n\tconst [ isEnable, setEnable ] = useState(false);\n\n\tconst toggleLocation = () => {\n\t\tif (isEnable) {\n\t\t\tsetEnable(false);\n\t\t\tdocument.getElementsByClassName('location-icon')[0].children[0].setAttribute('fill', '#c3c3c3');\n\t\t\tdispatch({ type: 'UPDATED_USER_LOCATION', payload: null });\n\t\t} else {\n\t\t\tsetEnable(true);\n\t\t\tdocument.getElementById('locationText').style.display = 'inline';\n\t\t\tdocument.getElementsByClassName('location-icon')[0].children[0].setAttribute('fill', '#35B4F6');\n\t\t\tgetLocation();\n\t\t}\n\t};\n\tconst getLocation = () => {\n\t\tif (navigator.geolocation) {\n\t\t\tnavigator.geolocation.getCurrentPosition((position) => {\n\t\t\t\tdocument.getElementById('locationText').style.display = 'none';\n\t\t\t\tdispatch({ type: 'UPDATED_USER_LOCATION', payload: position.coords });\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'UPDATED_VIEWPORT',\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\t...viewport,\n\t\t\t\t\t\tlatitude: position.coords.latitude,\n\t\t\t\t\t\tlongitude: position.coords.longitude,\n\t\t\t\t\t\tzoom: 7\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.error('Geolocation is not supported');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div onClick={(e) => toggleLocation(e)} className=\"user-location\">\n\t\t\t<div>\n\t\t\t\tUse my Location{' '}\n\t\t\t\t<span id=\"locationText\" className=\"loading\">\n\t\t\t\t\tloading...\n\t\t\t\t</span>{' '}\n\t\t\t</div>\n\t\t\t<svg className=\"location-icon\" style={{ width: '20px', height: '20px' }} viewBox=\"0 0 20 20\">\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#c3c3c3\"\n\t\t\t\t\td=\"M10,6.36363636 C12.0083082,6.36363636 13.6363636,7.99169182 13.6363636,10 C13.6363636,12.0083082 12.0083082,13.6363636 10,13.6363636 C7.99169182,13.6363636 6.36363636,12.0083082 6.36363636,10 C6.36363636,7.99169182 7.99169182,6.36363636 10,6.36363636 Z M1.86363636,10.9090909 L0,10.9090909 L0,9.09090909 L1.86363636,9.09090909 C2.27272727,5.3 5.3,2.27272727 9.09090909,1.86363636 L9.09090909,0 L10.9090909,0 L10.9090909,1.86363636 C14.7,2.27272727 17.7272727,5.3 18.1363636,9.09090909 L20,9.09090909 L20,10.9090909 L18.1363636,10.9090909 C17.7272727,14.7 14.7,17.7272727 10.9090909,18.1363636 L10.9090909,20 L9.09090909,20 L9.09090909,18.1363636 C5.3,17.7272727 2.27272727,14.7 1.86363636,10.9090909 Z M10,3.63636364 C6.48546068,3.63636364 3.63636364,6.48546068 3.63636364,10 C3.63636364,13.5145393 6.48546068,16.3636364 10,16.3636364 C13.5145393,16.3636364 16.3636364,13.5145393 16.3636364,10 C16.3636364,6.48546068 13.5145393,3.63636364 10,3.63636364 Z\"\n\t\t\t\t\tid=\"Shape\"\n\t\t\t\t/>\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t</div>\n\t);\n};\nexport default UserLocation;\n","export const initState = {\n\tcurrLocation: null,\n\tviewport: {\n\t\tlatitude: 45.4221,\n\t\tlongitude: -75.6903,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tzoom: 2\n\t},\n\tfetchedData: [],\n\tselectedQuake: null,\n\tselectedRegion: null,\n\ttoasts: [],\n\tdownloadingData: false,\n};\n\nconst type = {\n\tUPDATED_VIEWPORT: 'UPDATED_VIEWPORT',\n\tUPDATED_SELECTED_QUAKE: 'UPDATED_SELECTED_QUAKE',\n\tUPDATED_SELECTED_REGION: 'UPDATED_SELECTED_REGION',\n\tUPDATED_USER_LOCATION: 'UPDATED_USER_LOCATION',\n\tPUSHED_TOAST: 'PUSHED_TOAST',\n\tUPDATED_TOAST_STACK: 'UPDATED_TOAST_STACK',\n\tTOGGLE_DATA_DOWNLOADING: 'TOGGLE_DATA_DOWNLOADING',\n};\n\nexport const AppReducer = (state, action) => {\n\tconsole.log(\"Action\",action.type,action.payload);\n\tconsole.log(\"State\",state);\n\tswitch (action.type) {\n\t\tcase type.UPDATED_VIEWPORT: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewport: action.payload\n\t\t\t};\n\t\t}\n\t\tcase type.UPDATED_SELECTED_QUAKE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedQuake: action.payload\n\t\t\t};\n\t\t}\n\t\tcase type.UPDATED_SELECTED_REGION: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedRegion: action.payload\n\t\t\t};\n\t\t}\n\t\tcase type.UPDATED_USER_LOCATION: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrLocation: action.payload\n\t\t\t};\n\t\t}\n\t\tcase type.UPDATED_TOAST_STACK: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoasts: action.payload\n\t\t\t};\n\t\t}\n\t\tcase type.TOGGLE_DATA_DOWNLOADING: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdownloadingData: action.payload,\n\t\t\t}\n\t\t}\n\t\tdefault:\n\t\t\treturn {...state}\n\t}\n};\n","import React from 'react';\nfunction ToastStack(props) {\n\tconst { dispatch, toasts } = props;\n\treturn (\n\t\t<ul className=\"toast-stack\">\n\t\t\t{toasts.map((toast, i) => {\n\t\t\t\tif (i === toasts.length - 1) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={toast.timestamp}\n\t\t\t\t\t\t\tonAnimationEndCapture={() => dispatch({ type: 'UPDATED_TOAST_STACK', payload: [] })}\n\t\t\t\t\t\t\tclassName=\"animated-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{toast.value}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={toast.timestamp} className=\"animated-item\" >\n\t\t\t\t\t\t\t{toast.value}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})}\n\t\t</ul>\n\t);\n}\n\nexport default ToastStack;\n","import React from 'react';\n\nfunction OfflinePopup() {\n\n\n  return (\n    <div className=\"offline-popup\">\n      <div className=\"offline-popup-wrapper\">\n        <div>No internet connection</div>\n        <div className=\"offline-popup-button\" onClick={()=>window.location.reload()}>Reload</div>\n      </div>\n    </div>\n  );\n}\n\nexport default OfflinePopup;","//TODO: Add url parameter\n// TODO: show error when cannot get location\nimport React, { useReducer, useEffect, useState } from 'react';\nimport ReactMapGL, { Marker, Popup, NavigationControl } from '@urbica/react-map-gl';\nimport Cluster from '@urbica/react-map-gl-cluster';\nimport { matchColorToMag } from '../Tools/magnitudeColors';\nimport { Grid, Row, Col } from 'react-flexbox-grid';\nimport QuakeList from './QuakeList';\nimport SearchBar from './SearchBar';\nimport QuakeContext from '../Context/QuakeContext'; \nimport SeachContext from '../Context/SearchContext';\nimport '@material/react-button/dist/button.min.css';\nimport UserLocation from './UserLocation';\nimport { initState, AppReducer } from '../Reducers/AppReducer';\nimport '../fonts.css';\nimport '../App.css';\nimport ToastStack from './ToastStack';\nimport OfflinePopup from './OfflinePopup';\n\n\nfunction MyApp(props) {\n\tconst [ state, dispatch ] = useReducer(AppReducer, initState);\n\tconst [ fetchedData, setFetchedData ] = useState([]);\n\tconst [ appIsOffline, setAppIsOffline ] = useState(false);\n\tconst ClusterMarker = ({ longitude, latitude, pointCount }) => (\n\t\t<Marker longitude={longitude} latitude={latitude}>\n\t\t\t<div className=\"cluster-marker\">{pointCount}</div>\n\t\t</Marker>\n\t);\n\n\tsetInterval(() => {\n\t\tif (navigator.onLine) {\n\t\t\tsetAppIsOffline(false);\n\t\t} else {\n\t\t\tsetAppIsOffline(true);\n\t\t}\n\t}, 5000);\n\n  useEffect(()=>{\n    const query = new URLSearchParams(props.location.search);\n  },[props.location])\n\t// useEffect(() => {\n\t// \tlet myUrl = new EarthQuakeUrl({\n\t// \t\tstarttime: '2019-05-13',\n\t// \t\tlatitude: 35.34,\n\t// \t\tlongitude: 25.13,\n\t// \t\tmaxradiuskm: 500\n\t// \t});\n\n\t// \tfetch(myUrl.getUrl()).then((response) => response.json()).then((data) => {\n\n\t//     setFetchedData(data.features);\n\t// \t});\n\t// }, []);\n\n\treturn (\n\t\t<Grid fluid>\n\t\t\t<ReactMapGL\n\t\t\t\tlatitude={state.viewport.latitude}\n\t\t\t\tlongitude={state.viewport.longitude}\n\t\t\t\tzoom={state.viewport.zoom}\n\t\t\t\tstyle={{ width: '100%', height: '100vh' }}\n\t\t\t\taccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n\t\t\t\tmapStyle=\"mapbox://styles/elefcodes/cjvz1805a00cq1clmiekbyx1p\"\n\t\t\t\tonViewportChange={(viewport) => {\n\t\t\t\t\tdispatch({ type: 'UPDATED_VIEWPORT', payload: viewport });\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{state.currLocation != null ? (\n\t\t\t\t\t<Marker latitude={state.currLocation.latitude} longitude={state.currLocation.longitude}>\n\t\t\t\t\t\t<div className=\"marker-btn mylocation\" />\n\t\t\t\t\t</Marker>\n\t\t\t\t) : null}\n\n\t\t\t\t<Cluster raduis={40} extent={512} nodeSize={64} component={ClusterMarker}>\n\t\t\t\t\t{fetchedData.map((quake) => (\n\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\tkey={quake.id}\n\t\t\t\t\t\t\tlatitude={quake.geometry.coordinates[1]}\n\t\t\t\t\t\t\tlongitude={quake.geometry.coordinates[0]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"marker-btn\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: matchColorToMag(quake.properties.mag)[0]\n\t\t\t\t\t\t\t\t\t\t? matchColorToMag(quake.properties.mag)[0].color\n\t\t\t\t\t\t\t\t\t\t: '#333'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tdispatch({ type: 'UPDATED_SELECTED_QUAKE', payload: quake });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Marker>\n\t\t\t\t\t))}\n\t\t\t\t</Cluster>\n\n\t\t\t\t{state.selectedQuake && (\n\t\t\t\t\t<Popup\n\t\t\t\t\t\tlatitude={state.selectedQuake.geometry.coordinates[1]}\n\t\t\t\t\t\tlongitude={state.selectedQuake.geometry.coordinates[0]}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tdispatch({ type: 'UPDATED_SELECTED_QUAKE', payload: null });\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>{state.selectedQuake.properties.title}</div>\n\t\t\t\t\t</Popup>\n\t\t\t\t)}\n\n\t\t\t\t<NavigationControl showCompass showZoom position=\"bottom-left\" />\n\n\t\t\t\t{appIsOffline && (\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<OfflinePopup />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t)}\n\n\t\t\t\t<Row>\n\t\t\t\t\t<Col xsOffset={0} xs={12} md={9} smOffset={1} mdOffset={0} sm={10}>\n\t\t\t\t\t\t<SeachContext.Provider\n\t\t\t\t\t\t\tvalue={{\n\t\t\t\t\t\t\t\tdispatch: dispatch,\n\t\t\t\t\t\t\t\tsetFetchedData: setFetchedData,\n\t\t\t\t\t\t\t\tviewport: state.viewport,\n\t\t\t\t\t\t\t\tdownloadingData: state.downloadingData,\n\t\t\t\t\t\t\t\ttoasts: state.toasts\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SearchBar />\n\t\t\t\t\t\t</SeachContext.Provider>\n\t\t\t\t\t\t<ToastStack dispatch={dispatch} toasts={state.toasts} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xsOffset={1} xs={10} mdOffset={0} md={3} smOffset={2} sm={8}>\n\t\t\t\t\t\t<div className=\"mobile-view\">\n\t\t\t\t\t\t\t<UserLocation dispatch={dispatch} viewport={state.viewport} />\n\t\t\t\t\t\t\t<QuakeContext.Provider\n\t\t\t\t\t\t\t\tvalue={{\n\t\t\t\t\t\t\t\t\tdispatch: dispatch,\n\t\t\t\t\t\t\t\t\tviewport: state.viewport,\n\t\t\t\t\t\t\t\t\tcurrLocation: state.currLocation,\n\t\t\t\t\t\t\t\t\tquakes: fetchedData,\n\t\t\t\t\t\t\t\t\tdownloadingData: state.downloadingData\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<QuakeList />\n\t\t\t\t\t\t\t</QuakeContext.Provider>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</ReactMapGL>\n\t\t</Grid>\n\t);\n}\n\nexport default MyApp;\n","//TODO: Add url parameter\nimport React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport MyApp from '../src/Components/MyApp';\n\nfunction App() {\n\treturn (\n\t\t<Router>\n\t\t\t<Route path=\"/\" component={MyApp} />\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}